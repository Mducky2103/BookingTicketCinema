@page
@model IndexModel
@{
    ViewData["Title"] = "Tổng quan";
}

<div class="row mb-4">
  <div class="col-12">
    <div class="card">
      <div class="card-header">
        <h4 class="card-title mb-0">Chức năng nhanh</h4>
      </div>
      <div class="card-body">
        <div class="d-flex gap-3 flex-wrap">
          <a class="btn btn-label-primary btn-lg" asp-page="/CheckIn/Index">
            <i class="icon-base bx bx-check icon-md me-2"></i> Kiểm tra vé
          </a>
          <a class="btn btn-label-success btn-lg" asp-page="/POS/Index">
            <i class="icon-base bx bx-laptop icon-md me-2"></i> Bán vé tại quầy
          </a>
          
          @if (User.IsInRole("Admin"))
          {
            <a class="btn btn-label-secondary btn-lg" asp-page="/Showtimes/Create">
              <i class="icon-base bx bx-plus icon-md me-2"></i> Tạo suất chiếu mới
            </a>
            <a class="btn btn-label-secondary btn-lg" asp-page="/Movies/Create">
              <i class="icon-base bx bx-movie icon-md me-2"></i> Thêm phim mới
            </a>
          }
        </div>
      </div>
    </div>
  </div>
</div>

@if (User.IsInRole("Admin"))
{
  <div class="row mb-4">
    <div class="col-lg-12">
      <div class="card">
        <div class="card-header">
          <h4 class="card-title mb-0">Thống kê nhanh (Admin)</h4>
        </div>
        <div class="card-body">
          <div class="row">
            <div class="col-md-4 mb-4">
              <div class="card bg-primary text-white">
                <div class="card-body">
                  <h5 class="card-title">Doanh thu hôm nay</h5>
                  <p class="card-text display-6 fw-bold">@(Model.Stats?.TodayRevenue.ToString("N0") ?? "0") ₫</p>
                </div>
              </div>
            </div>
            <div class="col-md-4 mb-4">
              <div class="card bg-success text-white">
                <div class="card-body">
                  <h5 class="card-title">Vé đã bán (Hôm nay)</h5>
                  <p class="card-text display-6 fw-bold">@(Model.Stats?.TicketsSoldToday ?? 0) vé</p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
}